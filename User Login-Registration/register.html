<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Sign Up</title>
    <link rel="stylesheet" href="log-reg.css">
</head>
<body>
    <nav>
        <a href="../HomePage/index.html" id="FUNI-logo">
            <h1>FUNI</h1><img src="../images/IMG_0049.jpg" alt="FUNI logo">
        </a>
        <div class="nav-links">
            <a href="../Billing/billing_calculator.html">BUDGET
                CALCULATOR</a>
            <a href="../User Login-Registration/register.html">SIGN UP</a>
            <a href="../User Login-Registration/login.html">LOG IN</a>
        </div>
    </nav>
    <div>
        <form autocomplete="off" action="action.php" method="post" id="registration-form">
            <div class="registration-signup">
                <h2>Create an Account</h2>
                <div class="username-signup">
                    <input type="text" placeholder="ex. (Johndoe)" id="username"
                        name="username" minlength="8"
                        pattern="^(?=.*[A-Z])(?!.*\s).*$"
                        title="Username must have at least one uppercase letter, and no spaces."
                        spellcheck="false"
                        required>
                    <label for="username">Username</label>
                </div>
                <div class="email">
                    <input type="email" placeholder=" "
                        name="email" required>
                    <label for="Email">Email</label>
                </div>
                <div class="password-signup">
                    <input type="password" placeholder="(ex. 'Brownfox1')" id="password"
                        name="psw" minlength="8" maxlength="24"
                        pattern="^(?=.*[A-Z])(?=.*\d)(?!.*\s).{8,24}$"
                        title="Password must be between 8-24 characters, containing at least one uppercase letter, one number, and no spaces."
                        required>
                    <label for="psw">Password</label>
                </div>
                <div class="confirm-password">
                    <input type="password" placeholder=" "
                        id="confirm-password"
                        name="confirm-psw" minlength="8" maxlength="24"
                        pattern="^(?=.*[A-Z])(?=.*\d)(?!.*\s).{8,24}$"
                        required
                        oninput="CheckPasswordMatch()">
                    <label for="confirm-psw">Confirm Password</label>
                    <p class="password-match-error" id="password-match-error" style="color: red; display: none;">Passwords Do Not Match</p>
                </div>
                <p>Have an account?&#160<a
                    href="../User Login-Registration/login.html"
                    class="login-acc">Click here to sign in!</a></p>
                <button class="signup-button" type="submit">Register</button>
            </div>
        </form>
    </div>
    <script>
        function CheckPasswordMatch() {
            var password = document.getElementById('password').value;
            var confirmPassword = document.getElementById('confirm-password').value;
            var passwordMatchError = document.getElementById('password-match-error');

            if (password !== confirmPassword){
                passwordMatchError.style.display = 'block';
            } 
            else{
                passwordMatchError.style.display = 'none';
            }
        }

        document.addEventListener('DOMContentLoaded', function () {
            var fadeElems = document.querySelectorAll('.registration-signup');
        
            function checkFade() {
                fadeElems.forEach(function (elem) {
                    var distance = elem.getBoundingClientRect().top;
                    var windowHeight = window.innerHeight;
        
                    if (distance < windowHeight * 0.8) {
                        elem.classList.add('show');
                    } else {
                        elem.classList.remove('show');
                    }
                });
            }
        
            checkFade();
            window.addEventListener('scroll', checkFade);
        });
    </script>
</body>
</html>